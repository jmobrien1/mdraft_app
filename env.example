# Environment Variables Template for mdraft
# Copy this file to .env and configure for local development
# DO NOT commit .env files to version control

# Flask Configuration
FLASK_APP=run.py
FLASK_ENV=development
FLASK_DEBUG=1

# Database Configuration
DATABASE_URL=postgresql://username:password@localhost:5432/mdraft_db

# Redis Configuration (for sessions and rate limiting)
REDIS_URL=redis://localhost:6379/0
FLASK_LIMITER_STORAGE_URI=redis://localhost:6379/1

# Google Cloud Configuration
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json
GCS_BUCKET_NAME=your-gcs-bucket-name
GCS_PROCESSED_BUCKET_NAME=your-processed-bucket-name

# Google Cloud Tasks Configuration
CLOUD_TASKS_QUEUE_ID=your-queue-id
CLOUD_TASKS_LOCATION=us-central1

# Document AI Configuration
DOCAI_PROCESSOR_ID=your-processor-id
DOCAI_LOCATION=us

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/2
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# Application Configuration
MDRAFT_PUBLIC_MODE=0
LOGIN_DISABLED=false
SESSION_BACKEND=filesystem
SESSION_LIFETIME_DAYS=7
CSRF_TIMEOUT_HOURS=1
ANON_PROPOSAL_TTL_DAYS=14

# Rate Limiting
GLOBAL_RATE_LIMIT=120 per minute
CONVERT_RATE_LIMIT_DEFAULT=20 per minute
AI_RATE_LIMIT_DEFAULT=10 per minute
ANON_RATE_LIMIT_PER_MINUTE=20
ANON_RATE_LIMIT_PER_DAY=200

# File Upload Limits (in MB)
MAX_UPLOAD_PDF_MB=25
MAX_UPLOAD_OFFICE_MB=20
MAX_UPLOAD_TEXT_MB=5
MAX_UPLOAD_BINARY_MB=10

# Billing Configuration
BILLING_ENABLED=0
PRICING_DOC_OCR_PER_PAGE_USD=0.0000

# Authentication
ALLOWLIST=admin@example.com
FREE_TOOLS_REQUIRE_AUTH=false

# Authentication Security Configuration
# Password Policy
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGITS=true
PASSWORD_REQUIRE_SYMBOLS=true
PASSWORD_MIN_CHARACTER_CLASSES=3

# Rate Limiting and Lockout
AUTH_MAX_FAILS=5
AUTH_FAIL_WINDOW_SEC=900
AUTH_LOCKOUT_MINUTES=30

# Session Management
AUTH_SINGLE_SESSION=true

# Email Verification
EMAIL_VERIFICATION_REQUIRED=false
EMAIL_VERIFICATION_TOKEN_EXPIRY_HOURS=24

# Sentry Configuration
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=

# Queue Configuration
QUEUE_MODE=sync
WORKER_SERVICE=false

# Storage Configuration
USE_GCS=0

# =============================================================================
# SECRETS - DO NOT SET THESE IN .env FILES
# These should be configured in Render Dashboard → Environment → Secret files/variables
# =============================================================================

# OpenAI Configuration
# OPENAI_API_KEY=<your-openai-api-key> (set in Render secrets)

# Flask Secret Key
# SECRET_KEY=<your-secret-key> (set in Render secrets)

# Stripe Configuration
# STRIPE_SECRET_KEY=<your-stripe-secret-key> (set in Render secrets)
# STRIPE_WEBHOOK_SECRET=<your-stripe-webhook-secret> (set in Render secrets)

# Admin Access
# ADMIN_TOKEN=<your-admin-token> (set in Render secrets)

# Webhook Security
# WEBHOOK_SECRET=<your-webhook-secret> (set in Render secrets)
